<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Item</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>    
</head>
<body>
    <input type="text" id="qrid" placeholder="QR ID">
    <input type="text" id="name" placeholder="Name" required>
    <input type="text" id="price" placeholder="Price" required>
    <input type="text" id="description" placeholder="Description">
    <button id="addButton">Add</button>

<!-- Show result to scanner -->
<div id="reader"></div>
<!-- Show result to scanner -->

 <!-- Scanner -->
 <script>
     const fs = require('fs');
        const data = fs.readFileSync('data.json');
        const jsonData = JSON.parse(data)
    const searchButton = document.getElementById('addButton');
    const container = document.querySelector('.qrid');
    let template;
    const scanner = new Html5QrcodeScanner('reader', {
        qrbox: {
            width: 250,
            height: 250,
        },
        fps: 20,
    });
    let results;
    scanner.render(success, error);
    function success(result) {

            
        // Get a reference to the input element by its ID
        var inputElement = document.getElementById("qrid");

        // Set the value of the input element
        inputElement.value = `${result}`;

        console.log(result);
        
      
    }
    function error(err){
        console.log(err);
        container.innerHTML = `${err}`;
    }

    searchButton.addEventListener('click', () => {
       ;
        console.log("Before Adding data",JSON.stringify(jsonData, null, 4));

    });




</script>
<!-- Scanner -->


</body>
</html>